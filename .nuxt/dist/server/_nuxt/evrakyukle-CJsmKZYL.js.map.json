{"file":"evrakyukle-CJsmKZYL.js","mappings":";;;;;;;AA6BA,UAAM,WAAW,IAAI,CAAA,CAAE;AACvB,UAAM,cAAc,IAAI,CAAA,CAAE;AACF,QAAI,IAAI;AACL,QAAI,IAAI;AACjB,QAAI,IAAI;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["../../../../pages/firma/evrakyukle.vue"],"sourcesContent":["<template>\n  <div class=\"p-6\">\n    <h1 class=\"text-3xl font-bold mb-4\">Firma Evrak Yükleme</h1>\n\n    <form @submit.prevent=\"uploadEvrak\" class=\"space-y-4\">\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700\">Firma</label>\n        <select v-model=\"selectedFirmaId\" class=\"border p-2 rounded w-full\">\n          <option v-for=\"firma in firmalar\" :key=\"firma.id\" :value=\"firma.id\">{{ firma.adi }}</option>\n        </select>\n      </div>\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700\">Kategori</label>\n        <select v-model=\"selectedKategoriId\" class=\"border p-2 rounded w-full\">\n          <option v-for=\"kategori in kategoriler\" :key=\"kategori.id\" :value=\"kategori.id\">{{ kategori.isim }}</option>\n        </select>\n      </div>\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700\">Dosyalar</label>\n        <input type=\"file\" ref=\"fileInput\" multiple class=\"border p-2 rounded w-full\" />\n      </div>\n      <button type=\"submit\" class=\"bg-blue-600 text-white px-4 py-2 rounded\">Yükle</button>\n    </form>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\n\nconst firmalar = ref([]);\nconst kategoriler = ref([]);\nconst selectedFirmaId = ref(null);\nconst selectedKategoriId = ref(null);\nconst fileInput = ref(null);\n\nonMounted(async () => {\n  const { data: firmaData } = await useFetch('/api/firma/get');\n  const { data: kategoriData } = await useFetch('/api/kategori/get');\n  firmalar.value = firmaData.value;\n  kategoriler.value = kategoriData.value;\n});\n\nconst uploadEvrak = async () => {\n  const formData = new FormData();\n  formData.append('firmaId', selectedFirmaId.value);\n  formData.append('kategoriId', selectedKategoriId.value);\n  \n  for (const file of fileInput.value.files) {\n    formData.append('file', file);\n  }\n\n  await useFetch('/api/evrak/upload', { method: 'POST', body: formData });\n  alert('Dosyalar başarıyla yüklendi!');\n};\n</script>\n"],"version":3}