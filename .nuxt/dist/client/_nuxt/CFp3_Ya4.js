import{B as w,C as V,r as u,n as c,c as o,a as t,p as a,u as d,v as n,F as v,q as b,s as q,o as r,t as y}from"./B8_WjUqw.js";import{u as I}from"./BMbFKR4x.js";const U={class:"p-6 max-w-lg mx-auto bg-white rounded-lg shadow-lg"},F={class:"mb-4"},M={class:"mb-4"},S={class:"mb-4"},Y={class:"mb-4"},A={class:"mb-4"},B={class:"mb-4"},C=["value"],D={class:"mb-4"},T=["value"],E={class:"mb-4"},j={__name:"ekle",setup($){const m=w(),x=V(),p=u([]),f=u([]),s=u({adi:"",soyadi:"",tc_no:"",meslegi:"",isegiristarihi:"",firmaId:m.query.firmaId||"",firmaYerleskeId:m.query.yerleskeId||"",aktif:!0}),k=async()=>{try{const i=await $fetch("/api/yerleske/get");f.value=i;const e=await $fetch("/api/firma/get");p.value=e}catch(i){console.error("Veri çekme hatası:",i)}},g=async()=>{await I("/api/calisan/post",{method:"POST",body:s.value},"$6SjaMsfzVC"),x.push("/calisanlar")};return c(()=>{k()}),(i,e)=>(r(),o("div",U,[e[18]||(e[18]=t("h1",{class:"text-2xl font-semibold mb-6"},"Çalışan Ekle",-1)),t("form",{onSubmit:q(g,["prevent"])},[t("div",F,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-600"},"Adı",-1)),a(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.value.adi=l),type:"text",class:"border p-2 w-full rounded-md",required:""},null,512),[[d,s.value.adi]])]),t("div",M,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-600"},"Soyadı",-1)),a(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.soyadi=l),type:"text",class:"border p-2 w-full rounded-md",required:""},null,512),[[d,s.value.soyadi]])]),t("div",S,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-600"},"TC No",-1)),a(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.tc_no=l),type:"text",class:"border p-2 w-full rounded-md",required:""},null,512),[[d,s.value.tc_no]])]),t("div",Y,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-600"},"Mesleği",-1)),a(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>s.value.meslegi=l),type:"text",class:"border p-2 w-full rounded-md",required:""},null,512),[[d,s.value.meslegi]])]),t("div",A,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-600"},"İşe Giriş Tarihi",-1)),a(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>s.value.isegiristarihi=l),type:"date",class:"border p-2 w-full rounded-md",required:""},null,512),[[d,s.value.isegiristarihi]])]),t("div",B,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-600"},"Firma",-1)),a(t("select",{"onUpdate:modelValue":e[5]||(e[5]=l=>s.value.firmaId=l),class:"border p-2 w-full rounded-md",required:""},[(r(!0),o(v,null,b(p.value,l=>(r(),o("option",{key:l.id,value:l.id},y(l.firmaAdi),9,C))),128))],512),[[n,s.value.firmaId]])]),t("div",D,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-600"},"Yerleşke",-1)),a(t("select",{"onUpdate:modelValue":e[6]||(e[6]=l=>s.value.firmaYerleskeId=l),class:"border p-2 w-full rounded-md"},[(r(!0),o(v,null,b(f.value,l=>(r(),o("option",{key:l.id,value:l.id},y(l.subeAdi),9,T))),128))],512),[[n,s.value.firmaYerleskeId]])]),t("div",E,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-600"},"Aktif",-1)),a(t("select",{"onUpdate:modelValue":e[7]||(e[7]=l=>s.value.aktif=l),class:"border p-2 w-full rounded-md"},e[15]||(e[15]=[t("option",{value:!0},"Evet",-1),t("option",{value:!1},"Hayır",-1)]),512),[[n,s.value.aktif]])]),e[17]||(e[17]=t("button",{type:"submit",class:"bg-blue-600 text-white py-2 px-4 rounded-md w-full"},"Kaydet",-1))],32)]))}};export{j as default};
