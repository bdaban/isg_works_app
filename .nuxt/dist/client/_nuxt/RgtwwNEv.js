import{r as s,n as x,c as o,a as t,p as v,v as f,F as y,q as c,s as g,o as r,t as b}from"./B8_WjUqw.js";import{u}from"./BMbFKR4x.js";const w={class:"p-6"},D=["value"],F=["value"],E={__name:"evrakyukle",setup(I){const d=s([]),p=s([]),n=s(null),i=s(null),m=s(null);x(async()=>{const{data:l}=await u("/api/firma/get","$iy6wzhpxLc"),{data:e}=await u("/api/kategori/get","$8OyG8Cwci0");d.value=l.value,p.value=e.value});const k=async()=>{const l=new FormData;l.append("firmaId",n.value),l.append("kategoriId",i.value);for(const e of m.value.files)l.append("file",e);await u("/api/evrak/upload",{method:"POST",body:l},"$xL7diAayOx"),alert("Dosyalar başarıyla yüklendi!")};return(l,e)=>(r(),o("div",w,[e[6]||(e[6]=t("h1",{class:"text-3xl font-bold mb-4"},"Firma Evrak Yükleme",-1)),t("form",{onSubmit:g(k,["prevent"]),class:"space-y-4"},[t("div",null,[e[2]||(e[2]=t("label",{class:"block text-sm font-medium text-gray-700"},"Firma",-1)),v(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a),class:"border p-2 rounded w-full"},[(r(!0),o(y,null,c(d.value,a=>(r(),o("option",{key:a.id,value:a.id},b(a.adi),9,D))),128))],512),[[f,n.value]])]),t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-700"},"Kategori",-1)),v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>i.value=a),class:"border p-2 rounded w-full"},[(r(!0),o(y,null,c(p.value,a=>(r(),o("option",{key:a.id,value:a.id},b(a.isim),9,F))),128))],512),[[f,i.value]])]),t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700"},"Dosyalar",-1)),t("input",{type:"file",ref_key:"fileInput",ref:m,multiple:"",class:"border p-2 rounded w-full"},null,512)]),e[5]||(e[5]=t("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded"},"Yükle",-1))],32)]))}};export{E as default};
