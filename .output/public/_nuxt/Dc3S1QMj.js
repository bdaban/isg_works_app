import{x as y,y as k,r as t,n as g,c as x,a,t as r,p,v as S,u as w,s as T,o as B}from"./B8_WjUqw.js";import{u as D}from"./BMbFKR4x.js";const q={class:"p-6 max-w-full mx-auto bg-white rounded-lg shadow-lg"},M={class:"mb-4"},R={class:"border p-2 w-80 rounded-md"},h={class:"mb-4"},F={class:"mb-4"},A={__name:"yukle",setup(I){const i=y(),m=k(),d=t(i.query.calisanId),c=t(i.query.calisanAdi),v=t(i.query.calisanSoyadi),s=t(null),o=t(null),n=t(null);g(()=>{});const b=l=>{n.value=l.target.files[0]},f=async()=>{if(!n.value||!s.value||!o.value){alert("Lütfen tüm alanları doldurun.");return}const l=new FormData;l.append("calisanId",d.value),l.append("belgeTur",s.value),l.append("gecerlilikTarihi",o.value),l.append("file",n.value),await D("/api/dokuman/yukle",{method:"POST",body:l},"$6xcBNuaMFE"),alert("Belge başarıyla yüklendi."),m.push("/calisanlar")};return(l,e)=>(B(),x("div",q,[e[7]||(e[7]=a("h1",{class:"text-2xl font-semibold mb-6"},"Sağlık Raporu / Sertifika Yükle",-1)),a("div",M,[e[2]||(e[2]=a("label",{class:"block text-sm font-medium text-gray-600"},"Seçilen Çalışan",-1)),a("div",R,r(c.value)+" "+r(v.value)+" (ID: "+r(d.value)+") ",1)]),a("div",h,[e[4]||(e[4]=a("label",{class:"block text-sm font-medium text-gray-600"},"Belge Türü",-1)),p(a("select",{"onUpdate:modelValue":e[0]||(e[0]=u=>s.value=u),class:"border p-2 w-80 rounded-md",required:""},e[3]||(e[3]=[a("option",{value:"",disabled:""},"Belge Türü Seçiniz",-1),a("option",{value:"saglikRaporu"},"Sağlık Raporu",-1),a("option",{value:"sertifika"},"Sertifika",-1)]),512),[[S,s.value]])]),a("div",F,[e[5]||(e[5]=a("label",{class:"block text-sm font-medium text-gray-600"},"Geçerlilik Tarihi",-1)),p(a("input",{"onUpdate:modelValue":e[1]||(e[1]=u=>o.value=u),type:"date",class:"border p-2 w-40 rounded-md",required:""},null,512),[[w,o.value]])]),a("form",{onSubmit:T(f,["prevent"]),enctype:"multipart/form-data"},[a("input",{type:"file",name:"file",onChange:b,accept:".pdf",class:"mb-4"},null,32),e[6]||(e[6]=a("button",{type:"submit",class:"bg-blue-600 text-white py-2 px-4 rounded-md"},"Yükle",-1))],32)]))}};export{A as default};
